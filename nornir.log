2024-01-22 17:19:15,504 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:19:15,505 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:15,505 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:15,505 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:15,505 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:15,505 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:15,506 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:15,506 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:47,375 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:19:47,377 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:47,377 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:47,377 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:47,377 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:47,377 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:47,377 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:47,377 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,250 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:19:48,251 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,251 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,251 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,251 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,251 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,251 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,251 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,773 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:19:48,775 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,775 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,775 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,775 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,775 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,775 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:48,775 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:49,102 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:19:49,103 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:49,103 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:49,103 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:49,103 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:49,103 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:49,103 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:19:49,104 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'hello_world' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/start.py", line 7, in hello_world
    return Result(
NameError: name 'Result' is not defined

2024-01-22 17:21:09,243 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:21:28,998 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:21:36,848 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:25:28,148 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:26:19,400 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:26:25,776 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:26:26,766 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:26:27,307 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:26:27,836 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:26:28,446 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:26:28,994 -  nornir.core -     INFO -        run() - Running task 'hello_world' with args {} on 7 hosts
2024-01-22 17:36:34,888 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['facts']} on 7 hosts
2024-01-22 17:36:34,894 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 55, in open
    network_driver = get_network_driver(platform)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/__init__.py", line 99, in get_network_driver
    raise ModuleImportError(
napalm.base.exceptions.ModuleImportError: Cannot import "cisco_xrd". Is the library installed?

2024-01-22 17:36:34,895 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 55, in open
    network_driver = get_network_driver(platform)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/__init__.py", line 99, in get_network_driver
    raise ModuleImportError(
napalm.base.exceptions.ModuleImportError: Cannot import "cisco_xrd". Is the library installed?

2024-01-22 17:36:34,895 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 55, in open
    network_driver = get_network_driver(platform)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/__init__.py", line 99, in get_network_driver
    raise ModuleImportError(
napalm.base.exceptions.ModuleImportError: Cannot import "cisco_csr1000v". Is the library installed?

2024-01-22 17:36:34,895 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 55, in open
    network_driver = get_network_driver(platform)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/__init__.py", line 99, in get_network_driver
    raise ModuleImportError(
napalm.base.exceptions.ModuleImportError: Cannot import "cisco_xrd". Is the library installed?

2024-01-22 17:36:34,895 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 55, in open
    network_driver = get_network_driver(platform)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/__init__.py", line 99, in get_network_driver
    raise ModuleImportError(
napalm.base.exceptions.ModuleImportError: Cannot import "cisco_xrd". Is the library installed?

2024-01-22 17:36:34,896 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 55, in open
    network_driver = get_network_driver(platform)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/__init__.py", line 99, in get_network_driver
    raise ModuleImportError(
napalm.base.exceptions.ModuleImportError: Cannot import "cisco_xrd". Is the library installed?

2024-01-22 17:36:34,896 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 55, in open
    network_driver = get_network_driver(platform)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/__init__.py", line 99, in get_network_driver
    raise ModuleImportError(
napalm.base.exceptions.ModuleImportError: Cannot import "cisco_xrd". Is the library installed?

2024-01-22 17:43:19,133 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['facts']} on 7 hosts
2024-01-22 17:43:19,620 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.11:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.11:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.11:22


Authentication failed.

2024-01-22 17:43:19,620 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

2024-01-22 17:43:19,620 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

2024-01-22 17:43:19,620 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

2024-01-22 17:43:19,621 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.8:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.8:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.8:22


Authentication failed.

2024-01-22 17:43:19,624 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

2024-01-22 17:44:46,618 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['facts']} on 7 hosts
2024-01-22 17:44:46,985 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.8:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.8:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.8:22


Authentication failed.

2024-01-22 17:44:46,985 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

2024-01-22 17:44:46,986 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

2024-01-22 17:44:46,986 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

2024-01-22 17:44:46,986 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.11:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.11:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.11:22


Authentication failed.

2024-01-22 17:44:46,986 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

2024-01-22 17:47:05,048 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['facts']} on 7 hosts
2024-01-22 17:47:08,417 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:47:08,455 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:47:08,457 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:47:08,481 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:47:08,490 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:47:08,527 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:48:15,013 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['facts']} on 7 hosts
2024-01-22 17:48:18,367 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:48:18,367 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:48:18,367 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:48:18,367 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:48:18,396 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 212, in get_facts
    self.device.make_rpc_call(facts_rpc_request)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <PlatformInventory>
      <RackTable>
        <Rack>
          <Naming>
            <Name>0</Name>
          </Naming>
          <Attributes>
            <BasicInfo/>
          </Attributes>
        </Rack>
      </RackTable>
    </PlatformInventory>
  </Operational>
</Get>
        </Request>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 217, in get_facts
    self.device.make_rpc_call(facts_rpc_request_alt)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <Inventory>
      <Entities>
        <Entity>
          <Naming>
            <Name>Rack 0</Name>
          </Naming>
          <Attributes>
            <InvBasicBag></InvBasicBag>
          </Attributes>
        </Entity>
      </Entities>
    </Inventory>
  </Operational>
</Get>
</Request>

2024-01-22 17:48:20,356 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:53:09,705 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['facts']} on 7 hosts
2024-01-22 17:53:13,183 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 212, in get_facts
    self.device.make_rpc_call(facts_rpc_request)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <PlatformInventory>
      <RackTable>
        <Rack>
          <Naming>
            <Name>0</Name>
          </Naming>
          <Attributes>
            <BasicInfo/>
          </Attributes>
        </Rack>
      </RackTable>
    </PlatformInventory>
  </Operational>
</Get>
        </Request>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 217, in get_facts
    self.device.make_rpc_call(facts_rpc_request_alt)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <Inventory>
      <Entities>
        <Entity>
          <Naming>
            <Name>Rack 0</Name>
          </Naming>
          <Attributes>
            <InvBasicBag></InvBasicBag>
          </Attributes>
        </Entity>
      </Entities>
    </Inventory>
  </Operational>
</Get>
</Request>

2024-01-22 17:53:13,220 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:53:13,239 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:53:13,244 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:53:13,251 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:53:13,251 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:53:37,942 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['facts']} on 7 hosts
2024-01-22 17:53:37,961 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 83, in open
    self.device = manager.connect(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 187, in connect
    return connect_ssh(*args, **kwds)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 139, in connect_ssh
    session.connect(*args, **kwds)
TypeError: connect() got an unexpected keyword argument 'ssh_config_file'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 97, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: connect() got an unexpected keyword argument 'ssh_config_file'

2024-01-22 17:53:37,962 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 83, in open
    self.device = manager.connect(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 187, in connect
    return connect_ssh(*args, **kwds)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 139, in connect_ssh
    session.connect(*args, **kwds)
TypeError: connect() got an unexpected keyword argument 'ssh_config_file'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 97, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: connect() got an unexpected keyword argument 'ssh_config_file'

2024-01-22 17:53:41,189 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:53:41,214 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:53:41,226 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:53:41,242 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:53:49,387 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['facts']} on 7 hosts
2024-01-22 17:53:49,401 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 83, in open
    self.device = manager.connect(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 187, in connect
    return connect_ssh(*args, **kwds)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 139, in connect_ssh
    session.connect(*args, **kwds)
TypeError: connect() got an unexpected keyword argument 'ssh_config_file'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 97, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: connect() got an unexpected keyword argument 'ssh_config_file'

2024-01-22 17:53:49,401 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 83, in open
    self.device = manager.connect(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 187, in connect
    return connect_ssh(*args, **kwds)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 139, in connect_ssh
    session.connect(*args, **kwds)
TypeError: connect() got an unexpected keyword argument 'ssh_config_file'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 97, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: connect() got an unexpected keyword argument 'ssh_config_file'

2024-01-22 17:53:52,535 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:53:52,774 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:53:52,774 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:53:52,788 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:56:28,053 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['facts']} on 7 hosts
2024-01-22 17:56:28,073 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 83, in open
    self.device = manager.connect(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 187, in connect
    return connect_ssh(*args, **kwds)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 139, in connect_ssh
    session.connect(*args, **kwds)
TypeError: connect() got an unexpected keyword argument 'ssh_config_file'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 97, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: connect() got an unexpected keyword argument 'ssh_config_file'

2024-01-22 17:56:28,073 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 83, in open
    self.device = manager.connect(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 187, in connect
    return connect_ssh(*args, **kwds)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 139, in connect_ssh
    session.connect(*args, **kwds)
TypeError: connect() got an unexpected keyword argument 'ssh_config_file'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 97, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: connect() got an unexpected keyword argument 'ssh_config_file'

2024-01-22 17:56:31,393 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:56:31,418 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:56:31,421 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:56:31,443 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-22 17:59:41,731 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['facts']} on 7 hosts
2024-01-22 17:59:41,751 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 83, in open
    self.device = manager.connect(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 187, in connect
    return connect_ssh(*args, **kwds)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 139, in connect_ssh
    session.connect(*args, **kwds)
TypeError: connect() got an unexpected keyword argument 'ssh_config_file'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 97, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: connect() got an unexpected keyword argument 'ssh_config_file'

2024-01-22 17:59:41,751 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 83, in open
    self.device = manager.connect(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 187, in connect
    return connect_ssh(*args, **kwds)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 139, in connect_ssh
    session.connect(*args, **kwds)
TypeError: connect() got an unexpected keyword argument 'ssh_config_file'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 97, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: connect() got an unexpected keyword argument 'ssh_config_file'

2024-01-22 17:59:45,086 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 212, in get_facts
    self.device.make_rpc_call(facts_rpc_request)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <PlatformInventory>
      <RackTable>
        <Rack>
          <Naming>
            <Name>0</Name>
          </Naming>
          <Attributes>
            <BasicInfo/>
          </Attributes>
        </Rack>
      </RackTable>
    </PlatformInventory>
  </Operational>
</Get>
        </Request>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 217, in get_facts
    self.device.make_rpc_call(facts_rpc_request_alt)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <Inventory>
      <Entities>
        <Entity>
          <Naming>
            <Name>Rack 0</Name>
          </Naming>
          <Attributes>
            <InvBasicBag></InvBasicBag>
          </Attributes>
        </Entity>
      </Entities>
    </Inventory>
  </Operational>
</Get>
</Request>

2024-01-22 17:59:45,100 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 212, in get_facts
    self.device.make_rpc_call(facts_rpc_request)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <PlatformInventory>
      <RackTable>
        <Rack>
          <Naming>
            <Name>0</Name>
          </Naming>
          <Attributes>
            <BasicInfo/>
          </Attributes>
        </Rack>
      </RackTable>
    </PlatformInventory>
  </Operational>
</Get>
        </Request>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 217, in get_facts
    self.device.make_rpc_call(facts_rpc_request_alt)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <Inventory>
      <Entities>
        <Entity>
          <Naming>
            <Name>Rack 0</Name>
          </Naming>
          <Attributes>
            <InvBasicBag></InvBasicBag>
          </Attributes>
        </Entity>
      </Entities>
    </Inventory>
  </Operational>
</Get>
</Request>

2024-01-22 17:59:45,112 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 212, in get_facts
    self.device.make_rpc_call(facts_rpc_request)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <PlatformInventory>
      <RackTable>
        <Rack>
          <Naming>
            <Name>0</Name>
          </Naming>
          <Attributes>
            <BasicInfo/>
          </Attributes>
        </Rack>
      </RackTable>
    </PlatformInventory>
  </Operational>
</Get>
        </Request>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 217, in get_facts
    self.device.make_rpc_call(facts_rpc_request_alt)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <Inventory>
      <Entities>
        <Entity>
          <Naming>
            <Name>Rack 0</Name>
          </Naming>
          <Attributes>
            <InvBasicBag></InvBasicBag>
          </Attributes>
        </Entity>
      </Entities>
    </Inventory>
  </Operational>
</Get>
</Request>

2024-01-22 17:59:45,133 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 212, in get_facts
    self.device.make_rpc_call(facts_rpc_request)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <PlatformInventory>
      <RackTable>
        <Rack>
          <Naming>
            <Name>0</Name>
          </Naming>
          <Attributes>
            <BasicInfo/>
          </Attributes>
        </Rack>
      </RackTable>
    </PlatformInventory>
  </Operational>
</Get>
        </Request>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 217, in get_facts
    self.device.make_rpc_call(facts_rpc_request_alt)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <Inventory>
      <Entities>
        <Entity>
          <Naming>
            <Name>Rack 0</Name>
          </Naming>
          <Attributes>
            <InvBasicBag></InvBasicBag>
          </Attributes>
        </Entity>
      </Entities>
    </Inventory>
  </Operational>
</Get>
</Request>

2024-01-22 18:12:17,425 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['config']} on 7 hosts
2024-01-22 18:12:17,446 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 83, in open
    self.device = manager.connect(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 187, in connect
    return connect_ssh(*args, **kwds)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 139, in connect_ssh
    session.connect(*args, **kwds)
TypeError: connect() got an unexpected keyword argument 'ssh_config_file'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 97, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: connect() got an unexpected keyword argument 'ssh_config_file'

2024-01-22 18:12:17,446 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 83, in open
    self.device = manager.connect(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 187, in connect
    return connect_ssh(*args, **kwds)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/ncclient/manager.py", line 139, in connect_ssh
    session.connect(*args, **kwds)
TypeError: connect() got an unexpected keyword argument 'ssh_config_file'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr_netconf/iosxr_netconf.py", line 97, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: connect() got an unexpected keyword argument 'ssh_config_file'

2024-01-22 18:13:13,211 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['is_alive']} on 7 hosts
2024-01-22 18:13:14,129 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSDriver' object has no attribute 'get_is_alive'

2024-01-22 18:13:16,381 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSXRDriver' object has no attribute 'get_is_alive'

2024-01-22 18:13:16,481 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSXRDriver' object has no attribute 'get_is_alive'

2024-01-22 18:13:16,481 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSXRDriver' object has no attribute 'get_is_alive'

2024-01-22 18:13:16,505 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSXRDriver' object has no attribute 'get_is_alive'

2024-01-22 18:13:16,505 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSXRDriver' object has no attribute 'get_is_alive'

2024-01-22 18:13:16,511 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSXRDriver' object has no attribute 'get_is_alive'

2024-01-22 18:13:55,248 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['interfaces']} on 7 hosts
2024-01-22 22:40:09,305 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['interfaces']} on 7 hosts
2024-01-22 22:56:49,326 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['interfaces']} on 7 hosts
2024-01-22 22:56:49,713 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.8:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.8:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.8:22


Authentication failed.

2024-01-22 22:57:57,663 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['interfaces']} on 7 hosts
2024-01-22 23:00:28,494 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['interfaces']} on 7 hosts
2024-01-22 23:06:34,972 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['interfaces']} on 7 hosts
2024-01-22 23:20:45,802 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['interfaces']} on 7 hosts
2024-01-22 23:29:24,478 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['interfaces']} on 7 hosts
2024-01-23 00:30:53,826 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['template_config']} on 7 hosts
2024-01-23 00:30:54,772 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSDriver' object has no attribute 'get_template_config'

2024-01-23 00:30:57,115 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSXRDriver' object has no attribute 'get_template_config'

2024-01-23 00:30:57,175 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSXRDriver' object has no attribute 'get_template_config'

2024-01-23 00:30:57,176 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSXRDriver' object has no attribute 'get_template_config'

2024-01-23 00:30:57,176 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSXRDriver' object has no attribute 'get_template_config'

2024-01-23 00:30:57,200 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSXRDriver' object has no attribute 'get_template_config'

2024-01-23 00:30:57,222 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 43, in napalm_get
    method = getattr(device, getter)
AttributeError: 'IOSXRDriver' object has no attribute 'get_template_config'

2024-01-23 10:50:03,365 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['facts']} on 7 hosts
2024-01-23 10:50:06,753 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 212, in get_facts
    self.device.make_rpc_call(facts_rpc_request)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <PlatformInventory>
      <RackTable>
        <Rack>
          <Naming>
            <Name>0</Name>
          </Naming>
          <Attributes>
            <BasicInfo/>
          </Attributes>
        </Rack>
      </RackTable>
    </PlatformInventory>
  </Operational>
</Get>
        </Request>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 217, in get_facts
    self.device.make_rpc_call(facts_rpc_request_alt)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <Inventory>
      <Entities>
        <Entity>
          <Naming>
            <Name>Rack 0</Name>
          </Naming>
          <Attributes>
            <InvBasicBag></InvBasicBag>
          </Attributes>
        </Entity>
      </Entities>
    </Inventory>
  </Operational>
</Get>
</Request>

2024-01-23 10:50:06,777 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 212, in get_facts
    self.device.make_rpc_call(facts_rpc_request)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <PlatformInventory>
      <RackTable>
        <Rack>
          <Naming>
            <Name>0</Name>
          </Naming>
          <Attributes>
            <BasicInfo/>
          </Attributes>
        </Rack>
      </RackTable>
    </PlatformInventory>
  </Operational>
</Get>
        </Request>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 217, in get_facts
    self.device.make_rpc_call(facts_rpc_request_alt)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <Inventory>
      <Entities>
        <Entity>
          <Naming>
            <Name>Rack 0</Name>
          </Naming>
          <Attributes>
            <InvBasicBag></InvBasicBag>
          </Attributes>
        </Entity>
      </Entities>
    </Inventory>
  </Operational>
</Get>
</Request>

2024-01-23 10:50:06,783 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 212, in get_facts
    self.device.make_rpc_call(facts_rpc_request)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <PlatformInventory>
      <RackTable>
        <Rack>
          <Naming>
            <Name>0</Name>
          </Naming>
          <Attributes>
            <BasicInfo/>
          </Attributes>
        </Rack>
      </RackTable>
    </PlatformInventory>
  </Operational>
</Get>
        </Request>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 217, in get_facts
    self.device.make_rpc_call(facts_rpc_request_alt)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <Inventory>
      <Entities>
        <Entity>
          <Naming>
            <Name>Rack 0</Name>
          </Naming>
          <Attributes>
            <InvBasicBag></InvBasicBag>
          </Attributes>
        </Entity>
      </Entities>
    </Inventory>
  </Operational>
</Get>
</Request>

2024-01-23 10:50:06,788 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 212, in get_facts
    self.device.make_rpc_call(facts_rpc_request)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <PlatformInventory>
      <RackTable>
        <Rack>
          <Naming>
            <Name>0</Name>
          </Naming>
          <Attributes>
            <BasicInfo/>
          </Attributes>
        </Rack>
      </RackTable>
    </PlatformInventory>
  </Operational>
</Get>
        </Request>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 217, in get_facts
    self.device.make_rpc_call(facts_rpc_request_alt)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <Inventory>
      <Entities>
        <Entity>
          <Naming>
            <Name>Rack 0</Name>
          </Naming>
          <Attributes>
            <InvBasicBag></InvBasicBag>
          </Attributes>
        </Entity>
      </Entities>
    </Inventory>
  </Operational>
</Get>
</Request>

2024-01-23 10:50:06,814 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 212, in get_facts
    self.device.make_rpc_call(facts_rpc_request)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <PlatformInventory>
      <RackTable>
        <Rack>
          <Naming>
            <Name>0</Name>
          </Naming>
          <Attributes>
            <BasicInfo/>
          </Attributes>
        </Rack>
      </RackTable>
    </PlatformInventory>
  </Operational>
</Get>
        </Request>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 217, in get_facts
    self.device.make_rpc_call(facts_rpc_request_alt)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <Inventory>
      <Entities>
        <Entity>
          <Naming>
            <Name>Rack 0</Name>
          </Naming>
          <Attributes>
            <InvBasicBag></InvBasicBag>
          </Attributes>
        </Entity>
      </Entities>
    </Inventory>
  </Operational>
</Get>
</Request>

2024-01-23 10:50:06,814 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 212, in get_facts
    self.device.make_rpc_call(facts_rpc_request)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <PlatformInventory>
      <RackTable>
        <Rack>
          <Naming>
            <Name>0</Name>
          </Naming>
          <Attributes>
            <BasicInfo/>
          </Attributes>
        </Rack>
      </RackTable>
    </PlatformInventory>
  </Operational>
</Get>
        </Request>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 217, in get_facts
    self.device.make_rpc_call(facts_rpc_request_alt)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0">
<Get>
  <Operational>
    <SystemTime/>
    <Inventory>
      <Entities>
        <Entity>
          <Naming>
            <Name>Rack 0</Name>
          </Naming>
          <Attributes>
            <InvBasicBag></InvBasicBag>
          </Attributes>
        </Entity>
      </Entities>
    </Inventory>
  </Operational>
</Get>
</Request>

2024-01-23 10:50:08,030 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
OSError: [Errno 51] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 172.20.20.12:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.12

2024-01-23 10:51:56,843 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['environment']} on 7 hosts
2024-01-23 10:52:00,180 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 642, in get_environment
    result_tree = ETREE.fromstring(self.device.make_rpc_call(rpc_command))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0"><Get><AdminOperational><PlatformInventory><RackTable><Rack><Naming>        <Name>0</Name></Naming><SlotTable></SlotTable></Rack></RackTable></PlatformInventory>        </AdminOperational></Get></Request>

2024-01-23 10:52:00,180 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 642, in get_environment
    result_tree = ETREE.fromstring(self.device.make_rpc_call(rpc_command))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0"><Get><AdminOperational><PlatformInventory><RackTable><Rack><Naming>        <Name>0</Name></Naming><SlotTable></SlotTable></Rack></RackTable></PlatformInventory>        </AdminOperational></Get></Request>

2024-01-23 10:52:00,180 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 642, in get_environment
    result_tree = ETREE.fromstring(self.device.make_rpc_call(rpc_command))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0"><Get><AdminOperational><PlatformInventory><RackTable><Rack><Naming>        <Name>0</Name></Naming><SlotTable></SlotTable></Rack></RackTable></PlatformInventory>        </AdminOperational></Get></Request>

2024-01-23 10:52:00,181 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 642, in get_environment
    result_tree = ETREE.fromstring(self.device.make_rpc_call(rpc_command))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0"><Get><AdminOperational><PlatformInventory><RackTable><Rack><Naming>        <Name>0</Name></Naming><SlotTable></SlotTable></Rack></RackTable></PlatformInventory>        </AdminOperational></Get></Request>

2024-01-23 10:52:00,181 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 642, in get_environment
    result_tree = ETREE.fromstring(self.device.make_rpc_call(rpc_command))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0"><Get><AdminOperational><PlatformInventory><RackTable><Rack><Naming>        <Name>0</Name></Naming><SlotTable></SlotTable></Rack></RackTable></PlatformInventory>        </AdminOperational></Get></Request>

2024-01-23 10:52:00,190 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 44, in napalm_get
    result[g] = method(**options)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 642, in get_environment
    result_tree = ETREE.fromstring(self.device.make_rpc_call(rpc_command))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 175, in make_rpc_call
    result = self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0"><Get><AdminOperational><PlatformInventory><RackTable><Rack><Naming>        <Name>0</Name></Naming><SlotTable></SlotTable></Rack></RackTable></PlatformInventory>        </AdminOperational></Get></Request>

2024-01-23 10:52:06,863 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 172.20.20.12:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.12

2024-01-23 10:53:08,657 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['interfaces']} on 7 hosts
2024-01-23 10:53:18,679 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_get' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 172.20.20.12:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_get.py", line 32, in napalm_get
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.12

2024-01-23 11:10:28,195 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 11:10:28,197 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: template_file() missing 1 required positional argument: 'path'

2024-01-23 11:10:28,198 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: template_file() missing 1 required positional argument: 'path'

2024-01-23 11:10:28,198 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: template_file() missing 1 required positional argument: 'path'

2024-01-23 11:10:28,198 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: template_file() missing 1 required positional argument: 'path'

2024-01-23 11:10:28,198 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: template_file() missing 1 required positional argument: 'path'

2024-01-23 11:10:28,198 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: template_file() missing 1 required positional argument: 'path'

2024-01-23 11:10:28,198 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: template_file() missing 1 required positional argument: 'path'

2024-01-23 11:10:28,199 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='automation/nornir/templates/interfaces-xr.j2').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:10:28,199 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='automation/nornir/templates/interfaces-xr.j2').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:10:28,199 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='automation/nornir/templates/interfaces-xr.j2').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:10:28,199 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='automation/nornir/templates/interfaces-xr.j2').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:10:28,199 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='automation/nornir/templates/interfaces-xr.j2').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:10:28,199 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='automation/nornir/templates/interfaces-xr.j2').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:10:28,199 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='automation/nornir/templates/interfaces-xr.j2').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:11:15,036 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 11:11:15,054 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:11:15,054 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:11:15,054 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:11:15,054 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:11:15,054 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:11:15,054 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:11:15,055 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:11:15,055 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:11:15,055 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:11:15,055 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:11:15,055 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:11:15,055 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:11:15,056 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:11:15,056 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:13:09,575 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 11:13:09,591 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:13:09,591 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:13:09,591 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:13:09,592 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:13:09,592 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:13:09,592 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:13:09,592 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for interface in items.data.interfaces %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'items' is undefined

2024-01-23 11:13:09,592 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:13:09,592 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:13:09,592 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:13:09,592 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:13:09,592 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:13:09,592 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:13:09,592 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:16:25,601 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 11:16:25,616 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:16:25,616 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:16:25,617 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:16:25,617 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:16:25,617 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:16:25,617 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:16:25,618 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:16:25,618 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:16:25,618 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:16:25,618 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:16:25,618 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:16:25,618 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:16:25,618 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:16:25,618 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:18,383 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 11:20:18,404 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:18,404 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:18,404 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:18,404 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:18,404 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:18,404 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:18,404 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:18,405 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:18,405 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:18,405 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:18,405 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:18,405 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:18,405 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:18,405 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:29,352 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 11:20:29,375 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:29,375 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:29,375 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:29,375 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:29,375 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:29,375 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:29,376 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xr.j2", line 1, in top-level template code
    {% for node in nodes  %}
jinja2.exceptions.UndefinedError: 'nodes' is undefined

2024-01-23 11:20:29,376 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:29,376 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:29,376 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:29,376 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:29,376 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:29,377 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:29,377 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xr.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:45,604 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 11:20:45,626 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 1, in top-level template code
    {% for host in info[host.name] %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'info' is undefined

2024-01-23 11:20:45,627 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 1, in top-level template code
    {% for host in info[host.name] %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'info' is undefined

2024-01-23 11:20:45,627 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 1, in top-level template code
    {% for host in info[host.name] %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'info' is undefined

2024-01-23 11:20:45,627 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 1, in top-level template code
    {% for host in info[host.name] %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'info' is undefined

2024-01-23 11:20:45,627 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 1, in top-level template code
    {% for host in info[host.name] %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'info' is undefined

2024-01-23 11:20:45,627 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 1, in top-level template code
    {% for host in info[host.name] %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'info' is undefined

2024-01-23 11:20:45,627 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:45,628 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:45,628 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 1, in top-level template code
    {% for host in info[host.name] %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'info' is undefined

2024-01-23 11:20:45,628 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:45,628 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:45,628 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:45,628 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:20:45,628 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:21:21,205 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 11:21:24,639 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

R3
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

R3
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

R3
 ^
% Invalid input detected at '^' marker.


2024-01-23 11:21:24,640 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

R6
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

R6
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

R6
 ^
% Invalid input detected at '^' marker.


2024-01-23 11:21:24,640 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:21:24,640 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:21:24,643 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

R1
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

R1
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

R1
 ^
% Invalid input detected at '^' marker.


2024-01-23 11:21:24,643 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:21:24,668 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

R2
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

R2
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

R2
 ^
% Invalid input detected at '^' marker.


2024-01-23 11:21:24,668 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

R5
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

R5
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

R5
 ^
% Invalid input detected at '^' marker.


2024-01-23 11:21:24,668 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:21:24,668 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:21:24,673 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

R4
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

R4
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

R4
 ^
% Invalid input detected at '^' marker.


2024-01-23 11:21:24,673 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:21:31,227 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 172.20.20.12:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.12

2024-01-23 11:21:31,227 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:24:13,632 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 11:24:17,070 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.


2024-01-23 11:24:17,070 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.


2024-01-23 11:24:17,071 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/3
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/3
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/3
 ^
% Invalid input detected at '^' marker.


2024-01-23 11:24:17,071 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:24:17,071 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:24:17,071 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:24:17,071 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.


2024-01-23 11:24:17,072 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/3
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/3
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/3
 ^
% Invalid input detected at '^' marker.


2024-01-23 11:24:17,072 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:24:17,072 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:24:17,092 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

Gi0/0/0/0
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/1
 ^
% Invalid input detected at '^' marker.
Gi0/0/0/2
 ^
% Invalid input detected at '^' marker.


2024-01-23 11:24:17,092 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:24:23,656 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 172.20.20.12:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.12

2024-01-23 11:24:23,656 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:27:15,791 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 11:27:15,812 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 6, in top-level template code
    {% if interfaces.ip_address is defined %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'interfaces' is undefined

2024-01-23 11:27:15,813 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 6, in top-level template code
    {% if interfaces.ip_address is defined %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'interfaces' is undefined

2024-01-23 11:27:15,813 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 6, in top-level template code
    {% if interfaces.ip_address is defined %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'interfaces' is undefined

2024-01-23 11:27:15,813 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 6, in top-level template code
    {% if interfaces.ip_address is defined %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'interfaces' is undefined

2024-01-23 11:27:15,813 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 6, in top-level template code
    {% if interfaces.ip_address is defined %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'interfaces' is undefined

2024-01-23 11:27:15,813 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 6, in top-level template code
    {% if interfaces.ip_address is defined %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'interfaces' is undefined

2024-01-23 11:27:15,814 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-xe.j2", line 6, in top-level template code
    {% if interfaces.ip_address is defined %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'interfaces' is undefined

2024-01-23 11:27:15,814 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:27:15,814 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:27:15,814 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:27:15,814 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:27:15,814 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:27:15,814 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:27:15,814 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 16, in generate_config_and_push
    rendered_config = task.run(task=template_file, template='interfaces-xe.j2', path='automation/nornir/templates').result
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 11:27:31,199 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 11:27:41,227 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 172.20.20.12:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.12

2024-01-23 11:27:41,228 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:29:27,679 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 11:29:37,710 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 172.20.20.12:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.12

2024-01-23 11:29:37,710 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 11:31:43,159 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 11:31:53,192 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_ios 172.20.20.12:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.12

2024-01-23 11:31:53,193 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 12:28:56,733 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 12:28:59,313 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 319, in load_merge_candidate
    return_status, msg = self._load_candidate_wrapper(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 273, in _load_candidate_wrapper
    (return_status, msg) = self._scp_file(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 735, in _scp_file
    return self._xfer_file(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 804, in _xfer_file
    raise CommandErrorException(msg)
napalm.base.exceptions.CommandErrorException: SCP file transfers are not enabled. Configure 'ip scp server enable' on the device.

2024-01-23 12:28:59,314 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 12:29:00,083 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-23 12:29:00,083 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 12:29:00,107 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-23 12:29:00,107 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 12:29:00,109 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-23 12:29:00,109 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 12:29:00,118 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-23 12:29:00,118 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 12:29:00,120 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-23 12:29:00,120 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 12:29:00,130 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 205, in open
    self._enter_xml_mode()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 266, in _enter_xml_mode
    raise ConnectError(
napalm.pyIOSXR.exceptions.ConnectError: XML agent is not enabled. Please configure `xml agent tty iteration off`!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: XML agent is not enabled. Please configure `xml agent tty iteration off`!

2024-01-23 12:29:00,130 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 12:31:19,831 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 12:31:22,334 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 319, in load_merge_candidate
    return_status, msg = self._load_candidate_wrapper(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 273, in _load_candidate_wrapper
    (return_status, msg) = self._scp_file(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 735, in _scp_file
    return self._xfer_file(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 804, in _xfer_file
    raise CommandErrorException(msg)
napalm.base.exceptions.CommandErrorException: SCP file transfers are not enabled. Configure 'ip scp server enable' on the device.

2024-01-23 12:31:22,334 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 17, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure, dry_run=True, configuration=rendered_config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-23 15:07:57,520 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 15:07:57,523 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
NameError: name 'jinja2' is not defined

2024-01-23 15:07:57,523 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
NameError: name 'jinja2' is not defined

2024-01-23 15:07:57,524 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
NameError: name 'jinja2' is not defined

2024-01-23 15:07:57,524 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
NameError: name 'jinja2' is not defined

2024-01-23 15:07:57,524 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
NameError: name 'jinja2' is not defined

2024-01-23 15:07:57,524 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
NameError: name 'jinja2' is not defined

2024-01-23 15:07:57,524 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
NameError: name 'jinja2' is not defined

2024-01-23 15:08:17,068 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 15:08:17,072 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
AttributeError: module 'jinja2' has no attribute 'filtes'

2024-01-23 15:08:17,072 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
AttributeError: module 'jinja2' has no attribute 'filtes'

2024-01-23 15:08:17,072 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
AttributeError: module 'jinja2' has no attribute 'filtes'

2024-01-23 15:08:17,072 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
AttributeError: module 'jinja2' has no attribute 'filtes'

2024-01-23 15:08:17,072 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
AttributeError: module 'jinja2' has no attribute 'filtes'

2024-01-23 15:08:17,072 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
AttributeError: module 'jinja2' has no attribute 'filtes'

2024-01-23 15:08:17,072 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filtes.FILTERS['ip_addr']}).result
AttributeError: module 'jinja2' has no attribute 'filtes'

2024-01-23 15:08:34,906 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 15:08:34,908 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:08:34,908 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:08:34,908 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:08:34,909 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:08:34,909 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:08:34,909 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:08:34,909 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 22, in generate_config_and_push
    jinja2_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:12:05,116 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 15:12:05,119 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 28, in generate_config_and_push
    jinja_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:12:05,120 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 28, in generate_config_and_push
    jinja_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:12:05,120 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 28, in generate_config_and_push
    jinja_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:12:05,120 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 28, in generate_config_and_push
    jinja_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:12:05,120 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 28, in generate_config_and_push
    jinja_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:12:05,120 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 28, in generate_config_and_push
    jinja_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:12:05,120 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 28, in generate_config_and_push
    jinja_filters={'ip_addr': jinja2.filters.FILTERS['ip_addr']}).result
KeyError: 'ip_addr'

2024-01-23 15:12:38,793 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 15:15:19,344 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 15:22:56,835 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 15:23:46,416 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 15:54:33,387 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 15:54:33,399 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'iosxr', '.j2')

2024-01-23 15:54:33,399 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'iosxr', '.j2')

2024-01-23 15:54:33,399 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'ios', '.j2')

2024-01-23 15:54:33,400 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'iosxr', '.j2')

2024-01-23 15:54:33,400 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'iosxr', '.j2')

2024-01-23 15:54:33,400 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'iosxr', '.j2')

2024-01-23 15:54:33,400 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'iosxr', '.j2')

2024-01-23 15:54:33,400 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:54:33,401 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:54:33,401 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:54:33,401 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:54:33,401 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:54:33,401 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:54:33,401 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:54:50,404 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 15:54:50,413 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'iosxr', '.j2')

2024-01-23 15:54:50,414 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'ios', '.j2')

2024-01-23 15:54:50,414 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'iosxr', '.j2')

2024-01-23 15:54:50,414 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'iosxr', '.j2')

2024-01-23 15:54:50,414 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'iosxr', '.j2')

2024-01-23 15:54:50,414 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'iosxr', '.j2')

2024-01-23 15:54:50,414 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:54:50,414 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: ('interfaces-', 'iosxr', '.j2')

2024-01-23 15:54:50,415 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:54:50,415 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:54:50,415 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:54:50,415 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:54:50,415 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:54:50,415 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-23 15:55:36,992 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 15:59:50,438 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-23 22:25:13,631 -  nornir.core -     INFO -        run() - Running task 'napalm_get' with args {'getters': ['interfaces']} on 7 hosts
2024-01-24 00:02:16,580 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 00:02:16,868 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 819, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1190, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: 
A paramiko SSHException occurred during connection creation:

No authentication methods available



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.19

2024-01-24 00:02:16,869 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 00:03:14,713 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 00:03:14,990 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 819, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1190, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: 
A paramiko SSHException occurred during connection creation:

No authentication methods available



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.19

2024-01-24 00:03:14,990 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 00:05:53,384 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 00:05:53,666 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 819, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1190, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: 
A paramiko SSHException occurred during connection creation:

No authentication methods available



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.19

2024-01-24 00:05:53,666 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 00:07:07,099 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 00:07:07,478 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 819, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1190, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: 
A paramiko SSHException occurred during connection creation:

No authentication methods available



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.19

2024-01-24 00:07:07,478 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 00:18:50,792 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 00:18:51,093 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 819, in _auth
    raise SSHException("No authentication methods available")
paramiko.ssh_exception.SSHException: No authentication methods available

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1190, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: 
A paramiko SSHException occurred during connection creation:

No authentication methods available



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.19

2024-01-24 00:18:51,093 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 00:19:50,118 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 00:19:52,629 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 172.20.20.19:22


Authentication failed.

2024-01-24 00:19:52,630 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:08:52,481 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 02:08:52,966 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.6:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.6:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.6:22


Authentication failed.

2024-01-24 02:08:52,967 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.16:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.16:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.16:22


Authentication failed.

2024-01-24 02:08:52,967 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

2024-01-24 02:08:52,967 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

2024-01-24 02:08:52,967 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

2024-01-24 02:08:52,967 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

2024-01-24 02:08:52,968 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:08:52,968 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:08:52,968 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:08:52,969 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:08:52,969 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:08:52,969 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:08:54,909 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 172.20.20.19:22


Authentication failed.

2024-01-24 02:08:54,909 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:09:23,778 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 02:20:33,949 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 02:20:34,436 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

2024-01-24 02:20:34,436 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

2024-01-24 02:20:34,437 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

2024-01-24 02:20:34,437 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.16:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.16:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.16:22


Authentication failed.

2024-01-24 02:20:34,437 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.6:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.6:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.6:22


Authentication failed.

2024-01-24 02:20:34,437 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:20:34,437 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:20:34,437 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

2024-01-24 02:20:34,437 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:20:34,438 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:20:34,438 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:20:34,438 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:22:19,913 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 02:22:57,926 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 02:22:58,361 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

2024-01-24 02:22:58,361 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

2024-01-24 02:22:58,362 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

2024-01-24 02:22:58,362 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.16:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.16:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.16:22


Authentication failed.

2024-01-24 02:22:58,362 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

2024-01-24 02:22:58,362 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.6:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.6:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.6:22


Authentication failed.

2024-01-24 02:22:58,363 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:22:58,363 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:22:58,363 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:22:58,363 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:22:58,363 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 02:22:58,363 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 22:15:44,958 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 22:15:45,341 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.15:22


Authentication failed.

2024-01-24 22:15:45,341 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.9:22


Authentication failed.

2024-01-24 22:15:45,341 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 22:15:45,341 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 22:15:45,366 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.10:22


Authentication failed.

2024-01-24 22:15:45,366 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 22:15:45,366 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.6:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.6:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.6:22


Authentication failed.

2024-01-24 22:15:45,366 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 22:15:45,373 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.14:22


Authentication failed.

2024-01-24 22:15:45,373 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 22:15:45,383 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.16:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 202, in open
    raise ConnectError(au_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.16:22


Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr 172.20.20.16:22


Authentication failed.

2024-01-24 22:15:45,383 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 22:15:47,387 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 1603, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/auth_handler.py", line 248, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed: transport shut down or saw EOF

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1174, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_ios 172.20.20.19:22


Authentication failed: transport shut down or saw EOF

2024-01-24 22:15:47,387 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 22:16:07,086 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 22:17:44,196 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 22:38:07,760 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 22:38:15,439 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
interface Ge1
           ^
% Invalid input detected at '^' marker.

 ip address 192.168.10.13 255.255.255.254 
           ^
% Invalid input detected at '^' marker.

 lldp transmit
       ^
% Invalid input detected at '^' marker.

 lldp receive
        ^
% Invalid input detected at '^' marker.

 no shutdown
      ^
% Invalid input detected at '^' marker.

interface Ge2
           ^
% Invalid input detected at '^' marker.

 ip address 192.168.10.14 255.255.255.254 
           ^
% Invalid input detected at '^' marker.

 lldp transmit
       ^
% Invalid input detected at '^' marker.

 lldp receive
        ^
% Invalid input detected at '^' marker.

 no shutdown
      ^
% Invalid input detected at '^' marker.

interface Ge3
           ^
% Invalid input detected at '^' marker.

 ip address 192.168.10.20 255.255.255.254 
           ^
% Invalid input detected at '^' marker.

 lldp transmit
       ^
% Invalid input detected at '^' marker.

 lldp receive
        ^
% Invalid input detected at '^' marker.

 no shutdown
      ^
% Invalid input detected at '^' marker.

interface Ge4
           ^
% Invalid input detected at '^' marker.

 ip address 192.168.10.22 255.255.255.254 
           ^
% Invalid input detected at '^' marker.

 lldp transmit
       ^
% Invalid input detected at '^' marker.

 lldp receive
        ^
% Invalid input detected at '^' marker.

 no shutdown
      ^
% Invalid input detected at '^' marker.

396 bytes copied in 0.022 secs (18000 bytes/sec)

2024-01-24 22:38:15,439 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 22:39:22,670 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 22:39:28,970 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
interface Ge1
           ^
% Invalid input detected at '^' marker.

 ip address 192.168.10.13 255.255.255.254 
           ^
% Invalid input detected at '^' marker.

 lldp transmit
       ^
% Invalid input detected at '^' marker.

 lldp receive
        ^
% Invalid input detected at '^' marker.

 no shutdown
      ^
% Invalid input detected at '^' marker.

interface Ge2
           ^
% Invalid input detected at '^' marker.

 ip address 192.168.10.14 255.255.255.254 
           ^
% Invalid input detected at '^' marker.

 lldp transmit
       ^
% Invalid input detected at '^' marker.

 lldp receive
        ^
% Invalid input detected at '^' marker.

 no shutdown
      ^
% Invalid input detected at '^' marker.

interface Ge3
           ^
% Invalid input detected at '^' marker.

 ip address 192.168.10.20 255.255.255.254 
           ^
% Invalid input detected at '^' marker.

 lldp transmit
       ^
% Invalid input detected at '^' marker.

 lldp receive
        ^
% Invalid input detected at '^' marker.

 no shutdown
      ^
% Invalid input detected at '^' marker.

interface Ge4
           ^
% Invalid input detected at '^' marker.

 ip address 192.168.10.22 255.255.255.254 
           ^
% Invalid input detected at '^' marker.

 lldp transmit
       ^
% Invalid input detected at '^' marker.

 lldp receive
        ^
% Invalid input detected at '^' marker.

 no shutdown
      ^
% Invalid input detected at '^' marker.

396 bytes copied in 0.013 secs (30462 bytes/sec)

2024-01-24 22:39:28,970 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 22:41:11,047 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 22:41:18,109 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
interface G11
           ^
% Invalid input detected at '^' marker.

 ip address 192.168.10.13 255.255.255.254 
           ^
% Invalid input detected at '^' marker.

 lldp transmit
       ^
% Invalid input detected at '^' marker.

 lldp receive
        ^
% Invalid input detected at '^' marker.

 no shutdown
      ^
% Invalid input detected at '^' marker.

% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
396 bytes copied in 0.049 secs (8082 bytes/sec)

2024-01-24 22:41:18,109 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 22:46:07,427 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 22:46:22,516 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 595, in commit_config
    output = self._commit_handler(cmd)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 469, in wrapper
    return f(self, *args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 499, in _commit_handler
    self.device.set_base_prompt()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_ios.py", line 35, in set_base_prompt
    base_prompt = super().set_base_prompt(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1396, in set_base_prompt
    prompt = self.find_prompt(delay_factor=delay_factor, pattern=pattern)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1427, in find_prompt
    prompt = self.read_until_pattern(pattern=pattern)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 746, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: '(\\#|>)' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2024-01-24 22:46:22,517 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 22:53:55,272 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 22:54:05,415 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 457, in connect
    server_key = t.get_remote_server_key()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 918, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1182, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 15 seconds or larger.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.19

2024-01-24 22:54:05,415 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 22:54:55,110 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 22:55:05,215 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 457, in connect
    server_key = t.get_remote_server_key()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 918, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1182, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 15 seconds or larger.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.19

2024-01-24 22:55:05,216 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 23:24:21,197 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 23:24:23,766 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 319, in load_merge_candidate
    return_status, msg = self._load_candidate_wrapper(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 273, in _load_candidate_wrapper
    (return_status, msg) = self._scp_file(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 735, in _scp_file
    return self._xfer_file(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 804, in _xfer_file
    raise CommandErrorException(msg)
napalm.base.exceptions.CommandErrorException: SCP file transfers are not enabled. Configure 'ip scp server enable' on the device.

2024-01-24 23:24:23,766 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 23:26:35,204 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 23:26:50,242 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 595, in commit_config
    output = self._commit_handler(cmd)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 469, in wrapper
    return f(self, *args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 499, in _commit_handler
    self.device.set_base_prompt()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_ios.py", line 35, in set_base_prompt
    base_prompt = super().set_base_prompt(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1396, in set_base_prompt
    prompt = self.find_prompt(delay_factor=delay_factor, pattern=pattern)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1427, in find_prompt
    prompt = self.read_until_pattern(pattern=pattern)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 746, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: '(\\#|>)' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2024-01-24 23:26:50,243 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 23:40:09,587 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 23:40:19,707 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 457, in connect
    server_key = t.get_remote_server_key()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 918, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1182, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 15 seconds or larger.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.19

2024-01-24 23:40:19,707 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 23:41:38,477 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 23:41:48,620 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 457, in connect
    server_key = t.get_remote_server_key()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 918, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1182, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 15 seconds or larger.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.19

2024-01-24 23:41:48,620 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 23:44:09,206 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 23:44:19,330 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 457, in connect
    server_key = t.get_remote_server_key()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 918, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1182, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 15 seconds or larger.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.19

2024-01-24 23:44:19,330 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-24 23:45:51,736 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-24 23:46:01,864 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 457, in connect
    server_key = t.get_remote_server_key()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 918, in get_remote_server_key
    raise SSHException("No existing session")
paramiko.ssh_exception.SSHException: No existing session

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1182, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: Paramiko: 'No existing session' error: try increasing 'conn_timeout' to 15 seconds or larger.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.19

2024-01-24 23:46:01,864 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 00:00:12,649 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-25 00:00:12,753 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 2327, in _check_banner
    buf = self.packetizer.readline(timeout)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/packet.py", line 381, in readline
    buf += self._read_timeout(timeout)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/packet.py", line 618, in _read_timeout
    raise EOFError()
EOFError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 451, in connect
    t.start_client(timeout=timeout)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 738, in start_client
    raise e
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 2143, in run
    self._check_banner()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/transport.py", line 2331, in _check_banner
    raise SSHException(
paramiko.ssh_exception.SSHException: Error reading SSH protocol banner

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 114, in _netmiko_open
    self._netmiko_device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1190, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: 
A paramiko SSHException occurred during connection creation:

Error reading SSH protocol banner



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 172, in open
    self.device = self._netmiko_open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/base/base.py", line 123, in _netmiko_open
    raise ConnectionException("Cannot connect to {}".format(self.hostname))
napalm.base.exceptions.ConnectionException: Cannot connect to 172.20.20.19

2024-01-25 00:00:12,755 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 00:25:36,830 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-25 00:25:52,043 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 595, in commit_config
    output = self._commit_handler(cmd)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 469, in wrapper
    return f(self, *args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 499, in _commit_handler
    self.device.set_base_prompt()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_ios.py", line 35, in set_base_prompt
    base_prompt = super().set_base_prompt(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1396, in set_base_prompt
    prompt = self.find_prompt(delay_factor=delay_factor, pattern=pattern)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1427, in find_prompt
    prompt = self.read_until_pattern(pattern=pattern)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 746, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: '(\\#|>)' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2024-01-25 00:25:52,043 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:15:27,310 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-25 01:15:29,608 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 319, in load_merge_candidate
    return_status, msg = self._load_candidate_wrapper(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 273, in _load_candidate_wrapper
    (return_status, msg) = self._scp_file(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 735, in _scp_file
    return self._xfer_file(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 804, in _xfer_file
    raise CommandErrorException(msg)
napalm.base.exceptions.CommandErrorException: SCP file transfers are not enabled. Configure 'ip scp server enable' on the device.

2024-01-25 01:15:29,608 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:15:37,382 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.9:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 199, in open
    raise ConnectError(t_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.9:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.9:22



2024-01-25 01:15:37,383 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.15:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 199, in open
    raise ConnectError(t_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.15:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.15:22



2024-01-25 01:15:37,383 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.16:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 199, in open
    raise ConnectError(t_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.16:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.16:22



2024-01-25 01:15:37,383 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.10:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 199, in open
    raise ConnectError(t_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.10:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.10:22



2024-01-25 01:15:37,383 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.6:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 199, in open
    raise ConnectError(t_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.6:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.6:22



2024-01-25 01:15:37,383 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:15:37,383 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:15:37,383 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.14:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 199, in open
    raise ConnectError(t_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.14:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.14:22



2024-01-25 01:15:37,384 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:15:37,384 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:15:37,384 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:15:37,384 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:16:21,992 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-25 01:16:32,064 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.10:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 199, in open
    raise ConnectError(t_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.10:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.10:22



2024-01-25 01:16:32,065 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.16:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 199, in open
    raise ConnectError(t_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.16:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.16:22



2024-01-25 01:16:32,065 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.6:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 199, in open
    raise ConnectError(t_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.6:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.6:22



2024-01-25 01:16:32,065 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.9:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 199, in open
    raise ConnectError(t_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.9:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.9:22



2024-01-25 01:16:32,065 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.15:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 199, in open
    raise ConnectError(t_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.15:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.15:22



2024-01-25 01:16:32,065 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1137, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/paramiko/client.py", line 386, in connect
    sock.connect(addr)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 186, in open
    self.device = ConnectHandler(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/ssh_dispatcher.py", line 399, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 488, in __init__
    self._open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 493, in _open
    self.establish_connection()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1159, in establish_connection
    raise NetmikoTimeoutException(msg)
netmiko.exceptions.NetmikoTimeoutException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.14:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 79, in open
    self.device.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 199, in open
    raise ConnectError(t_err.args[0])
napalm.pyIOSXR.exceptions.ConnectError: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.14:22



During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 31, in napalm_configure
    device = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/connections/__init__.py", line 57, in open
    connection.open()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 82, in open
    raise ConnectionException(conn_err.args[0])
napalm.base.exceptions.ConnectionException: TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: cisco_xr 172.20.20.14:22



2024-01-25 01:16:32,066 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:16:32,066 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:16:32,066 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:16:32,066 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:16:32,066 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:16:32,066 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:16:36,655 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 595, in commit_config
    output = self._commit_handler(cmd)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 469, in wrapper
    return f(self, *args, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 499, in _commit_handler
    self.device.set_base_prompt()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/cisco/cisco_ios.py", line 35, in set_base_prompt
    base_prompt = super().set_base_prompt(
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1396, in set_base_prompt
    prompt = self.find_prompt(delay_factor=delay_factor, pattern=pattern)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 1427, in find_prompt
    prompt = self.read_until_pattern(pattern=pattern)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/netmiko/base_connection.py", line 746, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: '(\\#|>)' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2024-01-25 01:16:36,656 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-25 01:35:43,680 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 10:56:41,599 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 10:56:44,998 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 10:56:44,999 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:56:45,028 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 10:56:45,028 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:56:45,070 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 10:56:45,070 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:56:45,076 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 10:56:45,076 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:56:45,080 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 10:56:45,080 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:56:45,080 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 10:56:45,080 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:56:48,443 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
 lldp transmit
   ^
% Invalid input detected at '^' marker.

 lldp receive
   ^
% Invalid input detected at '^' marker.

% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
797 bytes copied in 0.021 secs (37952 bytes/sec)

2024-01-26 10:56:48,443 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:14,149 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 10:58:17,507 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 10:58:17,507 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:17,596 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 10:58:17,596 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 10:58:17,596 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:17,596 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:17,610 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 10:58:17,610 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:17,626 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 10:58:17,626 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 10:58:17,626 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:17,626 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:20,152 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
 lldp transmit
   ^
% Invalid input detected at '^' marker.

 lldp receive
   ^
% Invalid input detected at '^' marker.

% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
797 bytes copied in 0.014 secs (56929 bytes/sec)

2024-01-26 10:58:20,152 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:49,880 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 10:58:53,204 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


2024-01-26 10:58:53,204 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:53,281 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


2024-01-26 10:58:53,281 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:53,286 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


2024-01-26 10:58:53,286 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:53,299 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


2024-01-26 10:58:53,299 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:53,313 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


2024-01-26 10:58:53,313 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:53,317 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.
  disable
   ^
% Invalid input detected at '^' marker.


2024-01-26 10:58:53,317 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 10:58:55,904 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
 lldp transmit
   ^
% Invalid input detected at '^' marker.

 lldp receive
   ^
% Invalid input detected at '^' marker.

% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
797 bytes copied in 0.013 secs (61308 bytes/sec)

2024-01-26 10:58:55,904 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:06:35,987 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 11:06:42,009 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
 lldp transmit
   ^
% Invalid input detected at '^' marker.

 lldp receive
   ^
% Invalid input detected at '^' marker.

% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
797 bytes copied in 0.015 secs (53133 bytes/sec)

2024-01-26 11:06:42,010 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:09:19,538 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 11:09:19,557 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 1, in template
    {% for interface in host.data.interfaces and if interface not like 'lo' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'end of statement block', got 'interface'

2024-01-26 11:09:19,558 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 1, in template
    {% for interface in host.data.interfaces and if interface not like 'lo' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'end of statement block', got 'interface'

2024-01-26 11:09:19,558 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 1, in template
    {% for interface in host.data.interfaces and if interface not like 'lo' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'end of statement block', got 'interface'

2024-01-26 11:09:19,558 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 1, in template
    {% for interface in host.data.interfaces and if interface not like 'lo' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'end of statement block', got 'interface'

2024-01-26 11:09:19,558 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 1, in template
    {% for interface in host.data.interfaces and if interface not like 'lo' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'end of statement block', got 'interface'

2024-01-26 11:09:19,558 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 1, in template
    {% for interface in host.data.interfaces and if interface not like 'lo' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'end of statement block', got 'interface'

2024-01-26 11:09:19,558 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:09:19,558 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:09:19,558 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:09:19,558 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:09:19,558 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:09:19,559 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:09:25,339 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
 lldp transmit
   ^
% Invalid input detected at '^' marker.

 lldp receive
   ^
% Invalid input detected at '^' marker.

% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
797 bytes copied in 0.014 secs (56929 bytes/sec)

2024-01-26 11:09:25,339 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:09:49,235 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 11:09:49,252 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 1, in template
    {% for interface in host.data.interfaces and interface not like 'lo' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'end of statement block', got 'not'

2024-01-26 11:09:49,252 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 1, in template
    {% for interface in host.data.interfaces and interface not like 'lo' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'end of statement block', got 'not'

2024-01-26 11:09:49,252 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 1, in template
    {% for interface in host.data.interfaces and interface not like 'lo' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'end of statement block', got 'not'

2024-01-26 11:09:49,252 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 1, in template
    {% for interface in host.data.interfaces and interface not like 'lo' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'end of statement block', got 'not'

2024-01-26 11:09:49,252 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 1, in template
    {% for interface in host.data.interfaces and interface not like 'lo' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'end of statement block', got 'not'

2024-01-26 11:09:49,252 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:09:49,253 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 1, in template
    {% for interface in host.data.interfaces and interface not like 'lo' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'end of statement block', got 'not'

2024-01-26 11:09:49,253 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:09:49,253 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:09:49,253 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:09:49,253 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:09:49,253 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:09:55,135 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
 lldp transmit
   ^
% Invalid input detected at '^' marker.

 lldp receive
   ^
% Invalid input detected at '^' marker.

% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
797 bytes copied in 0.016 secs (49813 bytes/sec)

2024-01-26 11:09:55,135 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:13:12,493 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 11:13:15,874 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:13:15,874 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:13:15,962 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:13:15,962 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:13:15,977 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:13:15,978 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:13:15,978 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:13:15,978 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:13:16,001 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:13:16,001 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:13:16,003 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:13:16,003 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:13:18,468 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
 lldp transmit
   ^
% Invalid input detected at '^' marker.

 lldp receive
   ^
% Invalid input detected at '^' marker.

% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
797 bytes copied in 0.013 secs (61308 bytes/sec)

2024-01-26 11:13:18,468 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:15:49,541 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 11:15:52,951 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:15:52,951 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:15:53,002 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:15:53,002 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:15:53,002 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:15:53,002 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:15:53,023 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:15:53,023 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:15:53,023 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:15:53,023 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:15:53,056 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:15:53,056 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:15:55,390 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
 lldp transmit
   ^
% Invalid input detected at '^' marker.

 lldp receive
   ^
% Invalid input detected at '^' marker.

% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
797 bytes copied in 0.014 secs (56929 bytes/sec)

2024-01-26 11:15:55,390 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:17:26,063 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 11:17:29,481 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:17:29,482 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:17:29,499 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:17:29,500 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:17:29,502 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:17:29,502 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:17:29,503 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:17:29,503 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:17:29,503 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:17:29,503 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:17:29,530 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  enable
    ^
% Invalid input detected at '^' marker.


2024-01-26 11:17:29,530 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:17:32,246 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
 lldp transmit
   ^
% Invalid input detected at '^' marker.

 lldp receive
   ^
% Invalid input detected at '^' marker.

% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
797 bytes copied in 0.014 secs (56929 bytes/sec)

2024-01-26 11:17:32,247 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:17:59,894 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 11:18:05,763 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
 lldp transmit
   ^
% Invalid input detected at '^' marker.

 lldp receive
   ^
% Invalid input detected at '^' marker.

% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
797 bytes copied in 0.023 secs (34652 bytes/sec)

2024-01-26 11:18:05,764 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:18:47,734 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 11:18:53,751 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
 lldp transmit
   ^
% Invalid input detected at '^' marker.

 lldp receive
   ^
% Invalid input detected at '^' marker.

% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
% Warning: use /31 mask on non point-to-point interface cautiously
797 bytes copied in 0.015 secs (53133 bytes/sec)

2024-01-26 11:18:53,751 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:19:52,780 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 11:57:37,909 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 11:57:37,934 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:57:37,935 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:57:37,935 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:57:37,935 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:57:37,935 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:57:37,935 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:57:37,935 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-ios.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:57:37,936 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:57:37,936 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:57:37,936 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:57:37,936 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:57:37,936 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:57:37,936 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:57:37,936 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:58:12,961 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 11:58:12,988 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type | string is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:58:12,988 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type | string is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:58:12,988 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type | string is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:58:12,988 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type | string is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:58:12,988 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type | string is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:58:12,989 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type | string is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:58:12,990 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-ios.j2", line 12, in template
    {% if host.data.interfaces[interface].type | string is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:58:12,990 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:58:12,990 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:58:12,990 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:58:12,990 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:58:12,990 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:58:12,990 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:58:12,990 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:59:11,268 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 11:59:11,296 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-ios.j2", line 12, in template
    {% if host.data.interfaces[interface].type | string is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:59:11,297 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:59:14,731 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 11:59:14,732 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 11:59:14,732 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 11:59:14,732 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:59:14,732 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:59:14,732 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:59:14,740 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 11:59:14,740 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:59:14,761 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 11:59:14,761 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:59:14,761 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
data.interfaces[interface].type
  ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 11:59:14,761 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:59:40,209 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 11:59:40,235 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-ios.j2", line 12, in template
    {% if host.data.interfaces[interface].type | string is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 11:59:40,235 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 11:59:43,651 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 11:59:43,651 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 11:59:43,651 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 11:59:43,651 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:59:43,651 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:59:43,651 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:59:43,673 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 11:59:43,673 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:59:43,673 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 11:59:43,673 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 11:59:43,692 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
host.data.interfaces[interface].type
^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 11:59:43,692 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:00:15,559 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:00:15,589 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-ios.j2", line 12, in template
    {% if host.data.interfaces[interface].type | string is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 12:00:15,589 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:00:19,001 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 12:00:19,002 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:00:19,005 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 12:00:19,005 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:00:19,010 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 12:00:19,011 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 12:00:19,011 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 12:00:19,011 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:00:19,011 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:00:19,011 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

loopback
  ^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.
p2p
 ^
% Invalid input detected at '^' marker.
 no shutdown
^
% Invalid input detected at '^' marker.
 lldp
^
% Invalid input detected at '^' marker.
  enable
^
% Invalid input detected at '^' marker.


2024-01-26 12:00:19,011 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:00:19,011 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:01:12,722 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:01:12,743 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 12:01:12,744 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 12:01:12,744 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-ios.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 12:01:12,744 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 12:01:12,744 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 12:01:12,744 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 12:01:12,744 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/interfaces-iosxr.j2", line 12, in template
    {% if host.data.interfaces[interface].type is 'p2p' %}
jinja2.exceptions.TemplateSyntaxError: expected token 'name', got 'string'

2024-01-26 12:01:12,745 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:01:12,745 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:01:12,745 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:01:12,745 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:01:12,745 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:01:12,745 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:01:12,745 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:01:36,796 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:38:11,447 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:38:31,548 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:38:32,948 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:38:32,948 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:38:34,969 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


2024-01-26 12:38:34,969 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:38:34,996 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 56, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 56, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  interface {'area': 56, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


2024-01-26 12:38:34,996 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:38:35,001 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


2024-01-26 12:38:35,001 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:38:35,007 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/2
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/2
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/2
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


2024-01-26 12:38:35,007 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:38:35,008 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 56, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 56, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  interface {'area': 56, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


2024-01-26 12:38:35,008 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:38:35,019 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/2
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/2
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
Loopback0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
Gi0/0/0/2
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


2024-01-26 12:38:35,019 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:39:07,957 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:39:09,355 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:39:09,355 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:39:11,354 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 56, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 56, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  interface {'area': 56, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


2024-01-26 12:39:11,354 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:39:11,362 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


2024-01-26 12:39:11,362 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:39:11,368 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


2024-01-26 12:39:11,368 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:39:11,368 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


2024-01-26 12:39:11,369 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:39:11,374 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 56, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 56, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  interface {'area': 56, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 56, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


2024-01-26 12:39:11,374 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:39:11,390 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

  interface {'area': 0, 'network-type': 'loopback'}
            ^
% Invalid input detected at '^' marker.
L
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.
G
^
% Invalid input detected at '^' marker.
  interface {'area': 0, 'network-type': 'point-to-point'}
^
% Invalid input detected at '^' marker.


2024-01-26 12:39:11,390 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:40:59,256 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:41:00,673 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:41:00,673 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:41:02,685 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


2024-01-26 12:41:02,685 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.
Gi0/0/0/2
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/3
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.
Gi0/0/0/2
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/3
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.
Gi0/0/0/2
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/3
^
% Invalid input detected at '^' marker.


2024-01-26 12:41:02,686 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


2024-01-26 12:41:02,686 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:41:02,686 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:41:02,686 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:41:02,692 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


2024-01-26 12:41:02,692 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:41:02,713 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


2024-01-26 12:41:02,713 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:41:02,719 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.
Gi0/0/0/2
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/3
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.
Gi0/0/0/2
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/3
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

Loopback0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
Gi0/0/0/0
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
Gi0/0/0/1
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.
Gi0/0/0/2
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/3
^
% Invalid input detected at '^' marker.


2024-01-26 12:41:02,719 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:43:13,791 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:43:15,249 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:43:15,249 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:43:17,240 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

56 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
56 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

56 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
56 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

56 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
56 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


2024-01-26 12:43:17,240 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:43:17,259 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

56 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
56 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

56 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
56 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

56 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
56 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


2024-01-26 12:43:17,259 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:43:17,265 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


2024-01-26 12:43:17,266 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/3
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/3
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/3
^
% Invalid input detected at '^' marker.


2024-01-26 12:43:17,266 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:43:17,266 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:43:17,289 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.


2024-01-26 12:43:17,290 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:43:17,290 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/3
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/3
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/0
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/1
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/2
^
% Invalid input detected at '^' marker.
0 << LASTITEM!
^
% Invalid input detected at '^' marker.
  interface Gi0/0/0/3
^
% Invalid input detected at '^' marker.


2024-01-26 12:43:17,291 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:44:21,033 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:44:22,405 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:44:22,406 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:54:04,752 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:54:04,780 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 24, in template
    {% endfor %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.

2024-01-26 12:54:04,780 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 24, in template
    {% endfor %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.

2024-01-26 12:54:04,780 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 24, in template
    {% endfor %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.

2024-01-26 12:54:04,780 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 24, in template
    {% endfor %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.

2024-01-26 12:54:04,781 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 24, in template
    {% endfor %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.

2024-01-26 12:54:04,781 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:04,781 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 24, in template
    {% endfor %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.

2024-01-26 12:54:04,781 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:04,781 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:04,781 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:04,781 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:04,781 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:06,278 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:54:06,279 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:54:19,197 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:54:19,240 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 21, in top-level template code
    {% elif host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index + 1].area %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 2

2024-01-26 12:54:19,240 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 21, in top-level template code
    {% elif host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index + 1].area %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 2

2024-01-26 12:54:19,240 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 21, in top-level template code
    {% elif host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index + 1].area %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 2

2024-01-26 12:54:19,240 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 21, in top-level template code
    {% elif host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index + 1].area %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 2

2024-01-26 12:54:19,241 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 21, in top-level template code
    {% elif host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index + 1].area %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 2

2024-01-26 12:54:19,241 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 21, in top-level template code
    {% elif host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index + 1].area %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 2

2024-01-26 12:54:19,241 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:19,241 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:19,241 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:19,241 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:19,241 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:19,242 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:20,610 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:54:20,610 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:54:56,736 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:54:56,776 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index + 1].area  and not loop.last %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 2

2024-01-26 12:54:56,776 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index + 1].area  and not loop.last %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 2

2024-01-26 12:54:56,776 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index + 1].area  and not loop.last %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 2

2024-01-26 12:54:56,776 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index + 1].area  and not loop.last %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 2

2024-01-26 12:54:56,777 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index + 1].area  and not loop.last %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 2

2024-01-26 12:54:56,777 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index + 1].area  and not loop.last %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 2

2024-01-26 12:54:56,777 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:56,777 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:56,777 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:56,777 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:56,777 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:56,777 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:54:58,170 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:54:58,170 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:55:42,916 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:55:44,300 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:55:44,301 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:55:46,389 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:55:46,390 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:55:46,390 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:55:46,390 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:55:46,390 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:55:46,390 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:55:46,401 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:55:46,401 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:55:46,407 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:55:46,407 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:55:46,417 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.
loop.index <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:55:46,417 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:55:58,128 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:55:59,609 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:55:59,609 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:56:01,510 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:56:01,510 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:56:01,533 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:56:01,533 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:56:01,540 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:56:01,541 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:56:01,592 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:56:01,592 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:56:01,602 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:56:01,602 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:56:01,630 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

1 <<-- index!
^
% Invalid input detected at '^' marker.
2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:56:01,630 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:56:25,232 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:56:26,692 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:56:26,693 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:56:28,641 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:56:28,641 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:56:28,670 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:56:28,671 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:56:28,671 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:56:28,671 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:56:28,691 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.
6 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.
6 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.
6 <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:56:28,691 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:56:28,716 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:56:28,717 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.
6 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.
6 <<-- index!
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

2 <<-- index!
^
% Invalid input detected at '^' marker.
3 <<-- index!
^
% Invalid input detected at '^' marker.
4 <<-- index!
^
% Invalid input detected at '^' marker.
5 <<-- index!
^
% Invalid input detected at '^' marker.
6 <<-- index!
^
% Invalid input detected at '^' marker.


2024-01-26 12:56:28,717 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:56:28,717 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:57:18,720 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:57:18,758 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index +1 ].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 6

2024-01-26 12:57:18,759 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index +1 ].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 5

2024-01-26 12:57:18,759 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index +1 ].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 5

2024-01-26 12:57:18,759 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index +1 ].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 4

2024-01-26 12:57:18,759 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index +1 ].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 6

2024-01-26 12:57:18,759 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index +1 ].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 4

2024-01-26 12:57:18,759 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:57:18,759 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:57:18,760 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:57:18,760 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:57:18,760 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:57:18,760 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:57:20,008 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:57:20,009 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:57:41,763 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:57:41,804 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 4

2024-01-26 12:57:41,804 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 5

2024-01-26 12:57:41,804 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 3

2024-01-26 12:57:41,804 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 3

2024-01-26 12:57:41,804 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 4

2024-01-26 12:57:41,804 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.index].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element 5

2024-01-26 12:57:41,805 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:57:41,805 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:57:41,805 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:57:41,805 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:57:41,805 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:57:41,805 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:57:43,082 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:57:43,082 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 12:58:29,069 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 12:58:29,109 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.nextitem].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-26 12:58:29,109 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.nextitem].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-26 12:58:29,109 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.nextitem].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-26 12:58:29,110 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.nextitem].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-26 12:58:29,110 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.nextitem].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-26 12:58:29,110 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.nextitem].area%}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-26 12:58:29,110 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:58:29,110 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:58:29,110 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:58:29,110 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:58:29,110 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:58:29,110 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 12:58:30,500 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 12:58:30,501 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:01:06,080 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 13:01:07,435 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 13:01:07,435 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:01:09,476 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


2024-01-26 13:01:09,476 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:01:09,509 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


2024-01-26 13:01:09,509 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:01:09,509 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


2024-01-26 13:01:09,509 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:01:09,528 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


2024-01-26 13:01:09,528 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


2024-01-26 13:01:09,528 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:01:09,529 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:01:09,558 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

<- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


2024-01-26 13:01:09,558 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:02:40,492 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 13:02:41,912 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 13:02:41,912 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:02:43,917 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


2024-01-26 13:02:43,918 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:02:43,949 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


2024-01-26 13:02:43,949 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:02:43,953 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


2024-01-26 13:02:43,953 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:02:43,965 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 0, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


2024-01-26 13:02:43,965 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:02:43,973 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


2024-01-26 13:02:43,973 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:02:43,973 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
{'area': 56, 'network-type': 'point-to-point'} <- loop index
^
% Invalid input detected at '^' marker.
 <- loop index
^
% Invalid input detected at '^' marker.


2024-01-26 13:02:43,973 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:03:19,695 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 13:03:19,736 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.nextitem].area %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-26 13:03:19,736 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.nextitem].area %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-26 13:03:19,736 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.nextitem].area %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-26 13:03:19,736 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.nextitem].area %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-26 13:03:19,736 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.nextitem].area %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-26 13:03:19,737 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 18, in top-level template code
    {% if not not loop.last and host.data.routing.ospf.interfaces[interface].area != host.data.routing.ospf.interfaces[loop.nextitem].area %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-26 13:03:19,737 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 13:03:19,737 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 13:03:19,737 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 13:03:19,737 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 13:03:19,737 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 13:03:19,737 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-26 13:03:21,034 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 13:03:21,034 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:03:39,968 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 13:03:41,389 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 13:03:41,390 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:04:24,466 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 13:04:25,883 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 13:04:25,884 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-26 13:04:54,142 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-26 13:04:55,513 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 326, in load_merge_candidate
    raise MergeConfigException(msg)
napalm.base.exceptions.MergeConfigException: Transfer to remote device failed

2024-01-26 13:04:55,514 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 13:58:12,104 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 13:58:12,149 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces.loopback0.ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:58:12,149 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces.loopback0.ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:58:12,149 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces.loopback0.ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:58:12,149 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-ios.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces.loopback0.ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:58:12,149 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces.loopback0.ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:58:12,149 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces.loopback0.ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:58:12,149 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces.loopback0.ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:58:12,150 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 13:58:12,150 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 13:58:12,150 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 13:58:12,150 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 13:58:12,150 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 13:58:12,150 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 13:58:12,150 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 13:59:14,385 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 13:59:14,424 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:59:14,424 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:59:14,424 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:59:14,424 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:59:14,425 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 13:59:14,425 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:59:14,425 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 13:59:14,426 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 13:59:14,426 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 13:59:14,426 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:59:14,426 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-ios.j2", line 2, in top-level template code
    router-id {{ host.data.routing.ospf.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 13:59:14,426 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 13:59:14,426 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 13:59:14,426 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:28,475 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:00:28,519 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'interfaces'

2024-01-29 14:00:28,519 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'interfaces'

2024-01-29 14:00:28,520 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'interfaces'

2024-01-29 14:00:28,520 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-ios.j2", line 2, in top-level template code
    router-id {{ host.data.routing.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'interfaces'

2024-01-29 14:00:28,520 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'interfaces'

2024-01-29 14:00:28,520 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'interfaces'

2024-01-29 14:00:28,520 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.routing.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'interfaces'

2024-01-29 14:00:28,520 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:28,520 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:28,520 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:28,521 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:28,521 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:28,521 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:28,521 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:50,244 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:00:50,286 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:00:50,286 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:00:50,286 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:00:50,286 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:00:50,286 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-ios.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:00:50,287 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:50,286 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:50,286 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:50,286 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:50,286 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:00:50,287 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:50,286 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:00:50,287 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:00:50,287 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:01:22,265 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:01:22,300 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces.loopback0.ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:01:22,301 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces.loopback0.ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:01:22,301 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces.loopback0.ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:01:22,301 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces.loopback0.ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:01:22,301 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces.loopback0.ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:01:22,301 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces.loopback0.ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:01:22,302 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-ios.j2", line 2, in template
    router-id {{ host.data.interfaces.loopback0..ip_address | ip_address }}
jinja2.exceptions.TemplateSyntaxError: expected name or number

2024-01-29 14:01:22,303 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:01:22,303 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:01:22,303 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:01:22,303 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:01:22,303 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:01:22,303 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:01:22,303 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:02:09,803 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:02:09,835 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:02:09,836 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:02:09,836 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:02:09,836 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:02:09,836 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:02:09,840 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 2, in top-level template code
    router-id {{ host.data.interfaces['loopback0'].ip_address | ip_address }}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'loopback0'

2024-01-29 14:02:09,842 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:02:09,842 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 137, in load
    code = environment.compile(source, name, filename)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-ios.j2", line 2, in template
    router-id {{ host.data.interfaces.loopback0..ip_address | ip_address }}
jinja2.exceptions.TemplateSyntaxError: expected name or number

2024-01-29 14:02:09,843 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:02:09,843 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:02:09,843 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:02:09,843 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:02:09,843 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:02:09,843 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:04:58,944 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:06:09,536 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:06:14,081 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 140, in commit_config
    self.device.commit_config(**commit_args)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 666, in commit_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 'sysdb' detected the 'warning' condition 'One or more sub-operations failed during a pseudo-atomic complex operation, no changes have been made'
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0"><Commit/></Request>

2024-01-29 14:06:14,081 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 14:08:16,930 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:08:21,396 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 140, in commit_config
    self.device.commit_config(**commit_args)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 666, in commit_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 'sysdb' detected the 'warning' condition 'One or more sub-operations failed during a pseudo-atomic complex operation, no changes have been made'
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0"><Commit/></Request>

2024-01-29 14:08:21,397 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 14:09:33,433 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:09:33,470 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-ios.j2", line 6, in top-level template code
    {% if host.data.routing.ospf.interfaces[interface].network-type == 'point-to-point' %}
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'network'

2024-01-29 14:09:33,474 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 10, in top-level template code
    {% if host.data.routing.ospf.interfaces[interface].network-type == 'loopback' %}
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'network'

2024-01-29 14:09:33,474 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 10, in top-level template code
    {% if host.data.routing.ospf.interfaces[interface].network-type == 'loopback' %}
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'network'

2024-01-29 14:09:33,474 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 10, in top-level template code
    {% if host.data.routing.ospf.interfaces[interface].network-type == 'loopback' %}
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'network'

2024-01-29 14:09:33,474 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 10, in top-level template code
    {% if host.data.routing.ospf.interfaces[interface].network-type == 'loopback' %}
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'network'

2024-01-29 14:09:33,475 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 10, in top-level template code
    {% if host.data.routing.ospf.interfaces[interface].network-type == 'loopback' %}
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'network'

2024-01-29 14:09:33,475 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/ospf-iosxr.j2", line 10, in top-level template code
    {% if host.data.routing.ospf.interfaces[interface].network-type == 'loopback' %}
jinja2.exceptions.UndefinedError: 'dict object' has no attribute 'network'

2024-01-29 14:09:33,475 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:09:33,475 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:09:33,475 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:09:33,475 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:09:33,475 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:09:33,475 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:09:33,475 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:10:26,369 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:10:30,926 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 140, in commit_config
    self.device.commit_config(**commit_args)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 666, in commit_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 'sysdb' detected the 'warning' condition 'One or more sub-operations failed during a pseudo-atomic complex operation, no changes have been made'
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0"><Commit/></Request>

2024-01-29 14:10:30,926 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 14:18:16,457 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:18:20,988 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 140, in commit_config
    self.device.commit_config(**commit_args)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 666, in commit_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 'sysdb' detected the 'warning' condition 'One or more sub-operations failed during a pseudo-atomic complex operation, no changes have been made'
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0"><Commit/></Request>

2024-01-29 14:18:20,989 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 14:21:20,411 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:21:25,058 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 140, in commit_config
    self.device.commit_config(**commit_args)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 666, in commit_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 'sysdb' detected the 'warning' condition 'One or more sub-operations failed during a pseudo-atomic complex operation, no changes have been made'
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0"><Commit/></Request>

2024-01-29 14:21:25,058 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 14:24:45,237 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:24:49,796 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 140, in commit_config
    self.device.commit_config(**commit_args)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 666, in commit_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 470, in _execute_rpc
    raise XMLCLIError(error_msg, self)
napalm.pyIOSXR.exceptions.XMLCLIError: 'sysdb' detected the 'warning' condition 'One or more sub-operations failed during a pseudo-atomic complex operation, no changes have been made'
Original call was: <?xml version="1.0" encoding="UTF-8"?><Request MajorVersion="1" MinorVersion="0"><Commit/></Request>

2024-01-29 14:24:49,796 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 14:26:23,316 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:26:44,672 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:29:02,118 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:58:25,030 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:58:42,343 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:58:42,364 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/mpls-iosxr.j2", line 9, in top-level template code
    {% for interface in host.data.interfaces and host.data.interfaces[interface].type == 'core' %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-29 14:58:42,364 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/mpls-iosxr.j2", line 9, in top-level template code
    {% for interface in host.data.interfaces and host.data.interfaces[interface].type == 'core' %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-29 14:58:42,364 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/mpls-iosxr.j2", line 9, in top-level template code
    {% for interface in host.data.interfaces and host.data.interfaces[interface].type == 'core' %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-29 14:58:42,364 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/mpls-iosxr.j2", line 9, in top-level template code
    {% for interface in host.data.interfaces and host.data.interfaces[interface].type == 'core' %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-29 14:58:42,364 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/mpls-iosxr.j2", line 9, in top-level template code
    {% for interface in host.data.interfaces and host.data.interfaces[interface].type == 'core' %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-29 14:58:42,364 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 43, in template_file
    text = t.render(host=task.host, **kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "automation/nornir/templates/mpls-iosxr.j2", line 9, in top-level template code
    {% for interface in host.data.interfaces and host.data.interfaces[interface].type == 'core' %}
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: dict object has no element Undefined

2024-01-29 14:58:42,365 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: mpls-ios.j2

2024-01-29 14:58:42,365 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:58:42,365 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:58:42,365 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:58:42,365 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:58:42,365 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:58:42,365 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:58:42,365 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:59:25,865 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 14:59:25,877 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: mpls-ios.j2

2024-01-29 14:59:25,879 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 14:59:29,271 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

     interface {'type': 'core', 'host': 'r1', 'description': 'Link: Gi0/0/0/0:r1.lab.sanderpost.nl', 'ip_address': '192.168.10.11/31'}
     interface {'type': 'core', 'host': 'r1', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
1.lab.sanderpost.nl', 'ip_address': '192.168.10.11/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi3.pr1.lab.sanderpost.nl', 'ip_address': '192.168.10.15/31'}
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi3.pr1.la
               ^                                                               
b.sanderpost.nl', 'ip_address': '192.168.10.15/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r4', 'description': 'Link: Gi0/0/0/2:r4.lab.sanderpost.nl', 'ip_address': '192.168.10.18/31'}
     interface {'type': 'core', 'host': 'r4', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
4.lab.sanderpost.nl', 'ip_address': '192.168.10.18/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r6', 'description': 'Link: Gi0/0/0/2:r6.lab.sanderpost.nl', 'ip_address': '192.168.10.9/31'}
     interface {'type': 'core', 'host': 'r6', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
6.lab.sanderpost.nl', 'ip_address': '192.168.10.9/31'}

% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

     interface {'type': 'core', 'host': 'r1', 'description': 'Link: Gi0/0/0/0:r1.lab.sanderpost.nl', 'ip_address': '192.168.10.11/31'}
     interface {'type': 'core', 'host': 'r1', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
1.lab.sanderpost.nl', 'ip_address': '192.168.10.11/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi3.pr1.lab.sanderpost.nl', 'ip_address': '192.168.10.15/31'}
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi3.pr1.la
               ^                                                               
b.sanderpost.nl', 'ip_address': '192.168.10.15/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r4', 'description': 'Link: Gi0/0/0/2:r4.lab.sanderpost.nl', 'ip_address': '192.168.10.18/31'}
     interface {'type': 'core', 'host': 'r4', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
4.lab.sanderpost.nl', 'ip_address': '192.168.10.18/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r6', 'description': 'Link: Gi0/0/0/2:r6.lab.sanderpost.nl', 'ip_address': '192.168.10.9/31'}
     interface {'type': 'core', 'host': 'r6', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
6.lab.sanderpost.nl', 'ip_address': '192.168.10.9/31'}

% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

     interface {'type': 'core', 'host': 'r1', 'description': 'Link: Gi0/0/0/0:r1.lab.sanderpost.nl', 'ip_address': '192.168.10.11/31'}
     interface {'type': 'core', 'host': 'r1', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
1.lab.sanderpost.nl', 'ip_address': '192.168.10.11/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi3.pr1.lab.sanderpost.nl', 'ip_address': '192.168.10.15/31'}
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi3.pr1.la
               ^                                                               
b.sanderpost.nl', 'ip_address': '192.168.10.15/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r4', 'description': 'Link: Gi0/0/0/2:r4.lab.sanderpost.nl', 'ip_address': '192.168.10.18/31'}
     interface {'type': 'core', 'host': 'r4', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
4.lab.sanderpost.nl', 'ip_address': '192.168.10.18/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r6', 'description': 'Link: Gi0/0/0/2:r6.lab.sanderpost.nl', 'ip_address': '192.168.10.9/31'}
     interface {'type': 'core', 'host': 'r6', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
6.lab.sanderpost.nl', 'ip_address': '192.168.10.9/31'}

% Invalid input detected at '^' marker.


2024-01-29 14:59:29,271 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

     interface {'type': 'core', 'host': 'r4', 'description': 'Link: Gi0/0/0/0:r4.lab.sanderpost.nl', 'ip_address': '192.168.10.24/31'}
     interface {'type': 'core', 'host': 'r4', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
4.lab.sanderpost.nl', 'ip_address': '192.168.10.24/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi4:pr1.lab.sanderpost.nl', 'ip_address': '192.168.10.21/31'}
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi4:pr1.la
               ^                                                               
b.sanderpost.nl', 'ip_address': '192.168.10.21/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r1', 'description': 'Link: Gi0/0/0/2:r1.lab.sanderpost.nl', 'ip_address': '192.168.10.17/31'}
     interface {'type': 'core', 'host': 'r1', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
1.lab.sanderpost.nl', 'ip_address': '192.168.10.17/31'}

% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

     interface {'type': 'core', 'host': 'r4', 'description': 'Link: Gi0/0/0/0:r4.lab.sanderpost.nl', 'ip_address': '192.168.10.24/31'}
     interface {'type': 'core', 'host': 'r4', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
4.lab.sanderpost.nl', 'ip_address': '192.168.10.24/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi4:pr1.lab.sanderpost.nl', 'ip_address': '192.168.10.21/31'}
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi4:pr1.la
               ^                                                               
b.sanderpost.nl', 'ip_address': '192.168.10.21/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r1', 'description': 'Link: Gi0/0/0/2:r1.lab.sanderpost.nl', 'ip_address': '192.168.10.17/31'}
     interface {'type': 'core', 'host': 'r1', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
1.lab.sanderpost.nl', 'ip_address': '192.168.10.17/31'}

% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

     interface {'type': 'core', 'host': 'r4', 'description': 'Link: Gi0/0/0/0:r4.lab.sanderpost.nl', 'ip_address': '192.168.10.24/31'}
     interface {'type': 'core', 'host': 'r4', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
4.lab.sanderpost.nl', 'ip_address': '192.168.10.24/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi4:pr1.lab.sanderpost.nl', 'ip_address': '192.168.10.21/31'}
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi4:pr1.la
               ^                                                               
b.sanderpost.nl', 'ip_address': '192.168.10.21/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r1', 'description': 'Link: Gi0/0/0/2:r1.lab.sanderpost.nl', 'ip_address': '192.168.10.17/31'}
     interface {'type': 'core', 'host': 'r1', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
1.lab.sanderpost.nl', 'ip_address': '192.168.10.17/31'}

% Invalid input detected at '^' marker.


2024-01-29 14:59:29,271 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 14:59:29,271 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 14:59:29,283 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

     interface {'type': 'core', 'host': 'R2', 'description': 'Link: Gi0/0/0/0:r2.lab.sanderpost.nl', 'ip_address': '192.168.10.10/31'}
     interface {'type': 'core', 'host': 'R2', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
2.lab.sanderpost.nl', 'ip_address': '192.168.10.10/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi1:pr1.lab.sanderpost.nl', 'ip_address': '192.168.10.12/31'}
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi1:pr1.la
               ^                                                               
b.sanderpost.nl', 'ip_address': '192.168.10.12/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r3', 'description': 'Link: Gi0/0/0/2:r3.lab.sanderpost.nl', 'ip_address': '192.168.10.16/31'}
     interface {'type': 'core', 'host': 'r3', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
3.lab.sanderpost.nl', 'ip_address': '192.168.10.16/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r5', 'description': 'Link: Gi0/0/0/2:r5.lab.sanderpost.nl', 'ip_address': '192.168.10.7/31'}
     interface {'type': 'core', 'host': 'r5', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
5.lab.sanderpost.nl', 'ip_address': '192.168.10.7/31'}

% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

     interface {'type': 'core', 'host': 'R2', 'description': 'Link: Gi0/0/0/0:r2.lab.sanderpost.nl', 'ip_address': '192.168.10.10/31'}
     interface {'type': 'core', 'host': 'R2', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
2.lab.sanderpost.nl', 'ip_address': '192.168.10.10/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi1:pr1.lab.sanderpost.nl', 'ip_address': '192.168.10.12/31'}
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi1:pr1.la
               ^                                                               
b.sanderpost.nl', 'ip_address': '192.168.10.12/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r3', 'description': 'Link: Gi0/0/0/2:r3.lab.sanderpost.nl', 'ip_address': '192.168.10.16/31'}
     interface {'type': 'core', 'host': 'r3', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
3.lab.sanderpost.nl', 'ip_address': '192.168.10.16/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r5', 'description': 'Link: Gi0/0/0/2:r5.lab.sanderpost.nl', 'ip_address': '192.168.10.7/31'}
     interface {'type': 'core', 'host': 'r5', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
5.lab.sanderpost.nl', 'ip_address': '192.168.10.7/31'}

% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

     interface {'type': 'core', 'host': 'R2', 'description': 'Link: Gi0/0/0/0:r2.lab.sanderpost.nl', 'ip_address': '192.168.10.10/31'}
     interface {'type': 'core', 'host': 'R2', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
2.lab.sanderpost.nl', 'ip_address': '192.168.10.10/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi1:pr1.lab.sanderpost.nl', 'ip_address': '192.168.10.12/31'}
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi1:pr1.la
               ^                                                               
b.sanderpost.nl', 'ip_address': '192.168.10.12/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r3', 'description': 'Link: Gi0/0/0/2:r3.lab.sanderpost.nl', 'ip_address': '192.168.10.16/31'}
     interface {'type': 'core', 'host': 'r3', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
3.lab.sanderpost.nl', 'ip_address': '192.168.10.16/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r5', 'description': 'Link: Gi0/0/0/2:r5.lab.sanderpost.nl', 'ip_address': '192.168.10.7/31'}
     interface {'type': 'core', 'host': 'r5', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
5.lab.sanderpost.nl', 'ip_address': '192.168.10.7/31'}

% Invalid input detected at '^' marker.


2024-01-29 14:59:29,283 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 14:59:29,290 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

     interface {'type': 'core', 'host': 'R6', 'description': 'Link: Gi0/0/0/0:r6.lab.sanderpost.nl', 'ip_address': '192.168.10.4/31'}
     interface {'type': 'core', 'host': 'R6', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
6.lab.sanderpost.nl', 'ip_address': '192.168.10.4/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'R1', 'description': 'Link: Gi0/0/0/3:r1.lab.sanderpost.nl', 'ip_address': '192.168.10.6/31'}
     interface {'type': 'core', 'host': 'R1', 'description': 'Link: Gi0/0/0/3:r
               ^                                                               
1.lab.sanderpost.nl', 'ip_address': '192.168.10.6/31'}

% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

     interface {'type': 'core', 'host': 'R6', 'description': 'Link: Gi0/0/0/0:r6.lab.sanderpost.nl', 'ip_address': '192.168.10.4/31'}
     interface {'type': 'core', 'host': 'R6', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
6.lab.sanderpost.nl', 'ip_address': '192.168.10.4/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'R1', 'description': 'Link: Gi0/0/0/3:r1.lab.sanderpost.nl', 'ip_address': '192.168.10.6/31'}
     interface {'type': 'core', 'host': 'R1', 'description': 'Link: Gi0/0/0/3:r
               ^                                                               
1.lab.sanderpost.nl', 'ip_address': '192.168.10.6/31'}

% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

     interface {'type': 'core', 'host': 'R6', 'description': 'Link: Gi0/0/0/0:r6.lab.sanderpost.nl', 'ip_address': '192.168.10.4/31'}
     interface {'type': 'core', 'host': 'R6', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
6.lab.sanderpost.nl', 'ip_address': '192.168.10.4/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'R1', 'description': 'Link: Gi0/0/0/3:r1.lab.sanderpost.nl', 'ip_address': '192.168.10.6/31'}
     interface {'type': 'core', 'host': 'R1', 'description': 'Link: Gi0/0/0/3:r
               ^                                                               
1.lab.sanderpost.nl', 'ip_address': '192.168.10.6/31'}

% Invalid input detected at '^' marker.


2024-01-29 14:59:29,290 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 14:59:29,290 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

     interface {'type': 'core', 'host': 'r3', 'description': 'Link: Gi0/0/0/0:r3.lab.sanderpost.nl', 'ip_address': '192.168.10.25/31'}
     interface {'type': 'core', 'host': 'r3', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
3.lab.sanderpost.nl', 'ip_address': '192.168.10.25/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi5:pr1.lab.sanderpost.nl', 'ip_address': '192.168.10.23/31'}
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi5:pr1.la
               ^                                                               
b.sanderpost.nl', 'ip_address': '192.168.10.23/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r2', 'description': 'Link: Gi0/0/0/2:r2.lab.sanderpost.nl', 'ip_address': '192.168.10.19/31'}
     interface {'type': 'core', 'host': 'r2', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
2.lab.sanderpost.nl', 'ip_address': '192.168.10.19/31'}

% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

     interface {'type': 'core', 'host': 'r3', 'description': 'Link: Gi0/0/0/0:r3.lab.sanderpost.nl', 'ip_address': '192.168.10.25/31'}
     interface {'type': 'core', 'host': 'r3', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
3.lab.sanderpost.nl', 'ip_address': '192.168.10.25/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi5:pr1.lab.sanderpost.nl', 'ip_address': '192.168.10.23/31'}
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi5:pr1.la
               ^                                                               
b.sanderpost.nl', 'ip_address': '192.168.10.23/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r2', 'description': 'Link: Gi0/0/0/2:r2.lab.sanderpost.nl', 'ip_address': '192.168.10.19/31'}
     interface {'type': 'core', 'host': 'r2', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
2.lab.sanderpost.nl', 'ip_address': '192.168.10.19/31'}

% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

     interface {'type': 'core', 'host': 'r3', 'description': 'Link: Gi0/0/0/0:r3.lab.sanderpost.nl', 'ip_address': '192.168.10.25/31'}
     interface {'type': 'core', 'host': 'r3', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
3.lab.sanderpost.nl', 'ip_address': '192.168.10.25/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi5:pr1.lab.sanderpost.nl', 'ip_address': '192.168.10.23/31'}
     interface {'type': 'core', 'host': 'pr1', 'description': 'Link: Gi5:pr1.la
               ^                                                               
b.sanderpost.nl', 'ip_address': '192.168.10.23/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'r2', 'description': 'Link: Gi0/0/0/2:r2.lab.sanderpost.nl', 'ip_address': '192.168.10.19/31'}
     interface {'type': 'core', 'host': 'r2', 'description': 'Link: Gi0/0/0/2:r
               ^                                                               
2.lab.sanderpost.nl', 'ip_address': '192.168.10.19/31'}

% Invalid input detected at '^' marker.


2024-01-29 14:59:29,290 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 14:59:29,343 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

     interface {'type': 'core', 'host': 'R5', 'description': 'Link: Gi0/0/0/0:r5.lab.sanderpost.nl', 'ip_address': '192.168.10.5/31'}
     interface {'type': 'core', 'host': 'R5', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
5.lab.sanderpost.nl', 'ip_address': '192.168.10.5/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'R2', 'description': 'Link: Gi0/0/0/3:r2.lab.sanderpost.nl', 'ip_address': '192.168.10.8/31'}
     interface {'type': 'core', 'host': 'R2', 'description': 'Link: Gi0/0/0/3:r
               ^                                                               
2.lab.sanderpost.nl', 'ip_address': '192.168.10.8/31'}

% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

     interface {'type': 'core', 'host': 'R5', 'description': 'Link: Gi0/0/0/0:r5.lab.sanderpost.nl', 'ip_address': '192.168.10.5/31'}
     interface {'type': 'core', 'host': 'R5', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
5.lab.sanderpost.nl', 'ip_address': '192.168.10.5/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'R2', 'description': 'Link: Gi0/0/0/3:r2.lab.sanderpost.nl', 'ip_address': '192.168.10.8/31'}
     interface {'type': 'core', 'host': 'R2', 'description': 'Link: Gi0/0/0/3:r
               ^                                                               
2.lab.sanderpost.nl', 'ip_address': '192.168.10.8/31'}

% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

     interface {'type': 'core', 'host': 'R5', 'description': 'Link: Gi0/0/0/0:r5.lab.sanderpost.nl', 'ip_address': '192.168.10.5/31'}
     interface {'type': 'core', 'host': 'R5', 'description': 'Link: Gi0/0/0/0:r
               ^                                                               
5.lab.sanderpost.nl', 'ip_address': '192.168.10.5/31'}

% Invalid input detected at '^' marker.
     interface {'type': 'core', 'host': 'R2', 'description': 'Link: Gi0/0/0/3:r2.lab.sanderpost.nl', 'ip_address': '192.168.10.8/31'}
     interface {'type': 'core', 'host': 'R2', 'description': 'Link: Gi0/0/0/3:r
               ^                                                               
2.lab.sanderpost.nl', 'ip_address': '192.168.10.8/31'}

% Invalid input detected at '^' marker.


2024-01-29 14:59:29,343 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 15:00:26,950 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 15:00:26,965 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'template_file' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_jinja2/plugins/tasks/template_file.py", line 42, in template_file
    t = env.get_template(template)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 125, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/jinja2/loaders.py", line 204, in get_source
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: mpls-ios.j2

2024-01-29 15:00:26,965 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 21, in generate_config_and_push
    rendered_config = task.run(task=template_file,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: template_file (failed)


2024-01-29 15:19:56,352 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 15:20:47,660 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 15:21:31,427 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 15:21:51,521 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 15:21:58,650 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
mpls ldp router-id 192.168.0.10
^
% Invalid input detected at '^' marker.

 mpls ip label ldp
         ^
% Invalid input detected at '^' marker.

 mpls ip label ldp
         ^
% Invalid input detected at '^' marker.

 mpls ip label ldp
         ^
% Invalid input detected at '^' marker.

 mpls ip label ldp
         ^
% Invalid input detected at '^' marker.

271 bytes copied in 0.027 secs (10037 bytes/sec)

2024-01-29 15:21:58,651 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 15:22:17,362 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 15:22:23,440 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
mpls ldp router-id 192.168.0.10
^
% Invalid input detected at '^' marker.

 mpls ip label ldp
         ^
% Invalid input detected at '^' marker.

 mpls ip label ldp
         ^
% Invalid input detected at '^' marker.

 mpls ip label ldp
         ^
% Invalid input detected at '^' marker.

 mpls ip label ldp
         ^
% Invalid input detected at '^' marker.

271 bytes copied in 0.014 secs (19357 bytes/sec)

2024-01-29 15:22:23,441 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 15:23:23,692 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 15:23:30,543 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
mpls ldp router-id 192.168.0.10
^
% Invalid input detected at '^' marker.

295 bytes copied in 0.011 secs (26818 bytes/sec)

2024-01-29 15:23:30,543 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 15:24:45,370 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 15:24:51,264 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 48, in napalm_configure
    device.commit_config(**commit_kwargs)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/ios/ios.py", line 600, in commit_config
    raise MergeConfigException(merge_error)
napalm.base.exceptions.MergeConfigException: Configuration merge failed; automatic rollback attempted:
mpls ldp router-id 192.168.0.10
^
% Invalid input detected at '^' marker.

295 bytes copied in 0.011 secs (26818 bytes/sec)

2024-01-29 15:24:51,264 - nornir.core.task -    ERROR -      start() - Host 'PR1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 15:25:00,189 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 15:51:33,271 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 15:52:50,516 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 15:53:13,604 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 15:53:41,926 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
2024-01-29 15:53:45,327 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

 interface Gi0/0/0/2 !
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

 interface Gi0/0/0/2 !
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

 interface Gi0/0/0/2 !
 ^
% Invalid input detected at '^' marker.


2024-01-29 15:53:45,327 - nornir.core.task -    ERROR -      start() - Host 'R3': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 15:53:45,355 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

 interface Gi0/0/0/3 !
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

 interface Gi0/0/0/3 !
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

 interface Gi0/0/0/3 !
 ^
% Invalid input detected at '^' marker.


2024-01-29 15:53:45,355 - nornir.core.task -    ERROR -      start() - Host 'R2': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 15:53:45,381 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

 interface Gi0/0/0/2 !
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

 interface Gi0/0/0/2 !
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

 interface Gi0/0/0/2 !
 ^
% Invalid input detected at '^' marker.


2024-01-29 15:53:45,381 - nornir.core.task -    ERROR -      start() - Host 'R4': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 15:53:45,398 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

 interface Gi0/0/0/3 !
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

 interface Gi0/0/0/3 !
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

 interface Gi0/0/0/3 !
 ^
% Invalid input detected at '^' marker.


2024-01-29 15:53:45,398 - nornir.core.task -    ERROR -      start() - Host 'R1': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 15:53:45,404 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

 interface Gi0/0/0/2 !
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

 interface Gi0/0/0/2 !
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

 interface Gi0/0/0/2 !
 ^
% Invalid input detected at '^' marker.


2024-01-29 15:53:45,404 - nornir.core.task -    ERROR -      start() - Host 'R6': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 15:53:45,404 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'napalm_configure' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 580, in load_candidate_config
    self._execute_rpc(rpc_command)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 482, in _execute_rpc
    raise InvalidInputError("Invalid input entered:\n%s" % output, self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

 interface Gi0/0/0/2 !
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 116, in load_merge_candidate
    self.device.load_candidate_config(filename=filename, config=config)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/pyIOSXR/iosxr.py", line 583, in load_candidate_config
    raise InvalidInputError(e.args[0], self)
napalm.pyIOSXR.exceptions.InvalidInputError: Invalid input entered:

 interface Gi0/0/0/2 !
 ^
% Invalid input detected at '^' marker.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir_napalm/plugins/tasks/napalm_configure.py", line 36, in napalm_configure
    device.load_merge_candidate(filename=filename, config=configuration)
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/napalm/iosxr/iosxr.py", line 121, in load_merge_candidate
    raise MergeConfigException(e.args[0])
napalm.base.exceptions.MergeConfigException: Invalid input entered:

 interface Gi0/0/0/2 !
 ^
% Invalid input detected at '^' marker.


2024-01-29 15:53:45,404 - nornir.core.task -    ERROR -      start() - Host 'R5': task 'generate_config_and_push' failed with traceback:
Traceback (most recent call last):
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/Users/sander/Documents/Git/doodling-around/automation/nornir/configuration.py", line 25, in generate_config_and_push
    configure_devices = task.run(task=napalm_configure,
  File "/Users/sander/Library/Python/3.9/lib/python/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: napalm_configure (failed)


2024-01-29 15:53:57,272 -  nornir.core -     INFO -        run() - Running task 'generate_config_and_push' with args {} on 7 hosts
